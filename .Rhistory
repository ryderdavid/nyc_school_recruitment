packages <- c('devtools', 'acs', 'tidycensus', 'tidyverse', 'tigris', 'sp',
'tmap', 'readxl', 'ggplot2', 'rgdal', 'spdplyr', 'RColorBrewer',
'tmaptools', 'viridis', 'viridisLite', 'RSocrata', 'grid', 'gridExtra', 'rstudioapi')
check.packages(packages)
check.packages <- function(pkg){
new.pkg <- pkg[!(pkg %in% installed.packages()[, "Package"])]
if (length(new.pkg))
install.packages(new.pkg, dependencies = TRUE)
sapply(pkg, require, character.only = TRUE)
}
packages <- c('devtools', 'acs', 'tidycensus', 'tidyverse', 'tigris', 'sp',
'tmap', 'readxl', 'ggplot2', 'rgdal', 'spdplyr', 'RColorBrewer',
'tmaptools', 'viridis', 'viridisLite', 'RSocrata', 'grid', 'gridExtra', 'rstudioapi')
check.packages(packages)
check.packages(packages)
check.packages <- function(pkg){
new.pkg <- pkg[!(pkg %in% installed.packages()[, "Package"])]
if (length(new.pkg))
install.packages(new.pkg, dependencies = TRUE, type = "binary")
sapply(pkg, require, character.only = TRUE)
}
packages <- c('devtools', 'acs', 'tidycensus', 'tidyverse', 'tigris', 'sp',
'tmap', 'readxl', 'ggplot2', 'rgdal', 'spdplyr', 'RColorBrewer',
'tmaptools', 'viridis', 'viridisLite', 'RSocrata', 'grid', 'gridExtra', 'rstudioapi', 'units')
check.packages(packages)
install.packages(units, type = "binary")
install.packages("units", type = "binary")
install.packages("units")
packages <- c('devtools', 'acs', 'tidycensus', 'tidyverse', 'tigris', 'sp',
'tmap', 'readxl', 'ggplot2', 'rgdal', 'spdplyr', 'RColorBrewer',
'tmaptools', 'viridis', 'viridisLite', 'RSocrata', 'grid', 'gridExtra', 'rstudioapi', 'units')
check.packages(packages)
check.packages <- function(pkg){
new.pkg <- pkg[!(pkg %in% installed.packages()[, "Package"])]
if (length(new.pkg))
install.packages(new.pkg, dependencies = TRUE)
sapply(pkg, require, character.only = TRUE)
}
install.packages("units")
packages <- c('devtools', 'acs', 'tidycensus', 'tidyverse', 'tigris', 'sp',
'tmap', 'readxl', 'ggplot2', 'rgdal', 'spdplyr', 'RColorBrewer',
'tmaptools', 'viridis', 'viridisLite', 'RSocrata', 'grid', 'gridExtra', 'rstudioapi', 'units')
check.packages(packages)
packages <- c('V8', 'devtools', 'acs', 'tidycensus', 'tidyverse', 'tigris', 'sp',
'tmap', 'readxl', 'ggplot2', 'rgdal', 'spdplyr', 'RColorBrewer',
'tmaptools', 'viridis', 'viridisLite', 'RSocrata', 'grid', 'gridExtra', 'rstudioapi', 'units')
check.packages(packages)
check.packages(packages)
check.packages(packages)
library(rJava)
check.packages <- function(pkg){
new.pkg <- pkg[!(pkg %in% installed.packages()[, "Package"])]
if (length(new.pkg))
install.packages(new.pkg, dependencies = TRUE)
sapply(pkg, require, character.only = TRUE)
}
install.packages("units")
packages <- c('V8', 'devtools', 'acs', 'tidycensus', 'tidyverse', 'tigris', 'sp',
'tmap', 'readxl', 'ggplot2', 'rgdal', 'spdplyr', 'RColorBrewer',
'tmaptools', 'viridis', 'viridisLite', 'RSocrata', 'grid', 'gridExtra', 'rstudioapi', 'units')
check.packages(packages)
set_sourcefile_wd <- function() {
library(rstudioapi) #
current_path <- getActiveDocumentContext()$path
setwd(dirname(current_path ))
print( getwd() )
}
set_sourcefile_wd()
source("functions.R")
set_sourcefile_wd()
source("functions.R")
nyc_tracts %>% st_transform(crs = NYC_CRS)
nyc_tracts <- nyc_tracts %>% st_transform(crs = NYC_CRS)
nyc_tracts
head(recruitment_data)
schools_demo_snapshot %>% head
schools_demo_snapshot %>% filter(pct_ell > quantile(.$pct_ell, 0.9))
schools_demo_snapshot %>% filter(pct_ell > quantile(.$pct_ell, 0.9)) %>% plot()
schools_demo_snapshot %>% filter(pct_ell > quantile(.$pct_ell, 0.9))
high_ell_schools <- schools_demo_snapshot %>% filter(pct_ell > quantile(.$pct_ell, 0.9))
tmap_mode("view")
tm_shape(high_ell_schools) + tm_dots()
school_points
inner_join(schools_demo_snapshot, school_points, by = c("dbn" = "ats_code"))
inner_join(schools_demo_snapshot, school_points, by = c("dbn" = "ats_code")) %>% as("sf")
inner_join(schools_demo_snapshot, school_points, by = c("dbn" = "ats_code")) %>% st_as_sf()
schools_demo_snapshot
# add point geometry to school demographic data
schools_demo_snapshot <- inner_join(schools_demo_snapshot, school_points, by = c("dbn" = "ats_code")) %>% st_as_sf()
high_ell_schools <- schools_demo_snapshot %>% filter(pct_ell > quantile(.$pct_ell, 0.9))
tmap_mode("view")
tm_shape(high_ell_schools) + tm_dots()
tm_shape(high_ell_schools) + tm_dots(col = "red", size = "pct_ell")
tm_shape(high_ell_schools) + tm_dots(col = "red")
st_buffer(high_ell_schools$pct_ell, dist = 1000)
